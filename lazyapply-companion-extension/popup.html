<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>LazyApply 2.0 EXTREME</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="popup-container">
    <header class="header">
      <div class="logo">
        <span class="logo-icon">‚ö°</span>
        <div class="logo-text">
          <h1>LazyApply 2.0</h1>
          <span class="logo-subtitle">EXTREME</span>
        </div>
      </div>
      <div class="header-toggle">
        <label class="toggle">
          <input type="checkbox" id="enabled-toggle" checked>
          <span class="toggle-slider"></span>
        </label>
      </div>
    </header>

    <!-- Tab Navigation -->
    <nav class="tab-nav">
      <button class="tab-btn active" data-tab="jobs">üî• Live Jobs</button>
      <button class="tab-btn" data-tab="queue">üìã Queue</button>
      <button class="tab-btn" data-tab="settings">‚öôÔ∏è Settings</button>
    </nav>

    <main class="main-content">
      <!-- Live Jobs Tab -->
      <section class="tab-content active" id="tab-jobs">
        <!-- Search Section -->
        <div class="search-section">
          <div class="search-row">
            <input type="text" id="keyword-input" placeholder="Keywords (e.g., Software Engineer)" class="search-input">
          </div>
          <div class="search-row">
            <input type="text" id="location-input" placeholder="Location (e.g., Remote, London)" class="search-input">
          </div>
          <div class="search-actions">
            <button class="btn btn-primary" id="search-jobs-btn">
              üîç Search Jobs
            </button>
            <button class="btn btn-secondary" id="refresh-jobs-btn" title="Refresh from database">
              üîÑ
            </button>
          </div>
        </div>

        <!-- Quick Filters -->
        <div class="quick-filters">
          <button class="filter-chip active" data-filter="all">All</button>
          <button class="filter-chip" data-filter="remote">Remote</button>
          <button class="filter-chip" data-filter="high-match">80%+ Match</button>
          <button class="filter-chip" data-filter="new">New Today</button>
        </div>

        <!-- Jobs List -->
        <div class="jobs-section">
          <div class="jobs-header">
            <span class="jobs-count" id="jobs-count">0 jobs</span>
            <div class="bulk-actions">
              <button class="btn-icon" id="select-all-btn" title="Select all">‚òëÔ∏è</button>
              <button class="btn-icon" id="add-selected-btn" title="Add selected to queue" disabled>
                ‚ûï Add to Queue
              </button>
            </div>
          </div>
          <div class="jobs-list" id="jobs-list">
            <div class="jobs-loading">
              <div class="spinner"></div>
              <span>Loading jobs...</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Queue Tab -->
      <section class="tab-content" id="tab-queue">
        <div class="queue-header">
          <h2 class="section-title">LazyApply Queue</h2>
          <div class="queue-stats">
            <span class="queue-count" id="queue-count">0 jobs queued</span>
          </div>
        </div>
        
        <div class="queue-actions">
          <button class="btn btn-primary" id="send-to-lazyapply-btn">
            üöÄ Push to LazyApply
          </button>
          <button class="btn btn-secondary" id="clear-queue-btn">
            üóëÔ∏è Clear Queue
          </button>
        </div>

        <div class="queue-list" id="queue-list">
          <div class="queue-empty">No jobs in queue</div>
        </div>

        <!-- Manual URL Add -->
        <div class="manual-add">
          <h3 class="subsection-title">Quick Add URL</h3>
          <div class="manual-add-row">
            <input type="url" id="manual-url-input" placeholder="Paste job URL..." class="search-input">
            <button class="btn btn-secondary" id="manual-add-btn">+</button>
          </div>
        </div>
      </section>

      <!-- Settings Tab -->
      <section class="tab-content" id="tab-settings">
        <!-- Connection Status -->
        <div class="status-section">
          <div class="status-card" id="connection-status">
            <div class="status-icon">üîó</div>
            <div class="status-info">
              <div class="status-title">QuantumHire Backend</div>
              <div class="status-value" id="backend-status">Checking...</div>
            </div>
          </div>
        </div>

        <!-- Session Stats -->
        <div class="stats-section">
          <h2 class="section-title">Session Stats</h2>
          <div class="stats-grid">
            <div class="stat-card">
              <div class="stat-value" id="stat-intercepted">0</div>
              <div class="stat-label">Intercepted</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="stat-tailored">0</div>
              <div class="stat-label">Tailored</div>
            </div>
            <div class="stat-card">
              <div class="stat-value" id="stat-score">--%</div>
              <div class="stat-label">Avg Score</div>
            </div>
          </div>
        </div>

        <!-- Profile Section -->
        <div class="profile-section">
          <h2 class="section-title">Your Profile</h2>
          <div class="profile-card" id="profile-card">
            <div class="profile-placeholder">
              <span class="profile-icon">üë§</span>
              <span class="profile-text">No profile loaded</span>
            </div>
          </div>
          <button class="btn btn-secondary" id="load-profile-btn">
            üì• Load from QuantumHire
          </button>
        </div>

        <!-- Settings -->
        <div class="settings-list">
          <h2 class="section-title">Settings</h2>
          <div class="setting-row">
            <div class="setting-info">
              <div class="setting-title">Auto-Tailor</div>
              <div class="setting-desc">Generate documents when applying</div>
            </div>
            <label class="toggle">
              <input type="checkbox" id="auto-tailor-toggle" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="setting-row">
            <div class="setting-info">
              <div class="setting-title">Show Floating Panel</div>
              <div class="setting-desc">Display control on job pages</div>
            </div>
            <label class="toggle">
              <input type="checkbox" id="show-panel-toggle" checked>
              <span class="toggle-slider"></span>
            </label>
          </div>
          <div class="setting-row">
            <div class="setting-info">
              <div class="setting-title">Auto-Queue High Match</div>
              <div class="setting-desc">Auto-add 85%+ match jobs to queue</div>
            </div>
            <label class="toggle">
              <input type="checkbox" id="auto-queue-toggle">
              <span class="toggle-slider"></span>
            </label>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <span>Powered by QuantumHire AI</span>
      <a href="#" id="open-dashboard-btn">Open Dashboard</a>
    </footer>
  </div>

  <script src="popup.js"></script>
</body>
</html>
