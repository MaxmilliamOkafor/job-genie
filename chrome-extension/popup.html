<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>QuantumHire AI</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header>
      <div class="logo-row">
        <img src="icons/icon48.png" alt="QuantumHire" class="logo">
        <div class="brand">
          <h1>QuantumHire AI</h1>
          <span class="tagline">Smart ATS-Optimized Applications</span>
        </div>
      </div>
    </header>

    <!-- Not Connected State -->
    <section id="not-connected" class="section">
      <div class="connect-card">
        <div class="connect-icon">ğŸ”</div>
        <h2>Connect Your Account</h2>
        <p class="connect-desc">Sign in to access your profile and start auto-applying to jobs with AI-tailored resumes.</p>
        
        <form id="login-form" class="login-form">
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" placeholder="your@email.com" required>
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
          </div>
          <button type="submit" id="connect-btn" class="btn primary full">
            <span class="btn-icon">ğŸš€</span>
            Connect Account
          </button>
        </form>
      </div>
    </section>

    <!-- Connected State -->
    <section id="connected" class="section hidden">
      <!-- Profile Card -->
      <div class="profile-card">
        <div class="profile-header">
          <div class="avatar" id="avatar">MO</div>
          <div class="profile-info">
            <span class="profile-name" id="profile-name">Max Okafor</span>
            <span class="profile-email" id="profile-email">maxokafordev@gmail.com</span>
          </div>
          <div class="connection-status">
            <span class="status-dot"></span>
            <span>Ready</span>
          </div>
        </div>
        
        <div class="profile-stats">
          <div class="stat">
            <span class="stat-value" id="skills-count">0</span>
            <span class="stat-label">Skills</span>
          </div>
          <div class="stat">
            <span class="stat-value" id="exp-years">0</span>
            <span class="stat-label">Exp Years</span>
          </div>
          <div class="stat">
            <span class="stat-value" id="certs-count">0</span>
            <span class="stat-label">Certs</span>
          </div>
        </div>
        
        <button id="refresh-btn" class="btn ghost small">
          <span class="btn-icon">ğŸ”„</span>
          Refresh Profile
        </button>
      </div>

      <!-- Auto-Fill Toggle -->
      <div class="toggle-card">
        <div class="toggle-row">
          <div class="toggle-info">
            <span class="toggle-label">âš¡ Auto-Fill Enabled</span>
            <span class="toggle-desc">Automatically fill forms on job pages</span>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="autofill-toggle" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
      </div>

      <!-- ATS Credentials Section (Expanded by default) -->
      <div class="credentials-card" id="credentials-card">
        <div class="credentials-header" id="credentials-toggle">
          <span>ğŸ”‘ ATS Login Credentials</span>
          <span class="toggle-arrow">â–²</span>
        </div>
        <div class="credentials-body" id="credentials-body">
          <p class="credentials-note">Your Workday/ATS login for auto-fill. Stored locally only.</p>
          <div class="form-group">
            <label for="ats-email">ATS Email</label>
            <input type="email" id="ats-email" placeholder="your@email.com">
          </div>
          <div class="form-group">
            <label for="ats-password">ATS Password</label>
            <div class="password-input-wrapper">
              <input type="password" id="ats-password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
              <button type="button" id="toggle-password-btn" class="toggle-password-btn" title="Show/Hide Password">ğŸ‘ï¸</button>
            </div>
          </div>
          <div class="credentials-actions">
            <button id="save-credentials-btn" class="btn small primary">ğŸ’¾ Save</button>
            <button id="clear-credentials-btn" class="btn small ghost">ğŸ—‘ï¸ Clear</button>
          </div>
        </div>
      </div>

      <!-- Current Job Detection -->
      <div class="job-card" id="job-card">
        <div class="job-card-header">
          <span class="job-badge">ğŸ¯ Job Detected</span>
          <span class="ats-badge" id="ats-badge">ATS</span>
        </div>
        <div class="job-details" id="job-details">
          <span class="job-checking">Checking page...</span>
        </div>
      </div>

      <!-- Main Action Buttons -->
      <button id="apply-now-btn" class="btn action-btn" disabled>
        <div class="action-content">
          <span class="action-icon">âš¡</span>
          <div class="action-text">
            <span class="action-title">Apply with AI</span>
            <span class="action-subtitle">Tailor resume + Auto-fill form</span>
          </div>
        </div>
      </button>

      <!-- Add to Queue Button -->
      <button id="add-queue-btn" class="btn queue-btn" disabled>
        <span class="btn-icon">ğŸ“‹</span>
        <span>Add to Job Queue</span>
      </button>

      <!-- Progress Indicator -->
      <div id="progress-section" class="progress-section hidden">
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill"></div>
        </div>
        <div class="progress-steps">
          <div class="step" id="step-1">
            <span class="step-icon">ğŸ“</span>
            <span class="step-text">Extracting job details</span>
          </div>
          <div class="step" id="step-2">
            <span class="step-icon">ğŸ”</span>
            <span class="step-text">Analyzing ATS keywords</span>
          </div>
          <div class="step" id="step-3">
            <span class="step-icon">âœ¨</span>
            <span class="step-text">Tailoring resume & cover letter</span>
          </div>
          <div class="step" id="step-4">
            <span class="step-icon">ğŸ“‹</span>
            <span class="step-text">Auto-filling application</span>
          </div>
        </div>
      </div>

      <!-- Results Section -->
      <div id="results-section" class="results-section hidden">
        <!-- Match Score -->
        <div class="match-card">
          <div class="match-score-circle">
            <svg viewBox="0 0 36 36" class="circular-chart">
              <path class="circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
              <path class="circle" id="match-circle" stroke-dasharray="0, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
              <text x="18" y="20.35" class="percentage" id="match-score-text">0%</text>
            </svg>
          </div>
          <div class="match-info">
            <span class="match-title">ATS Match Score</span>
            <span class="match-subtitle" id="keywords-matched">0 keywords matched</span>
          </div>
        </div>

        <!-- Keywords -->
        <div class="keywords-section">
          <div class="keywords-header">
            <span>ğŸ·ï¸ Keywords Matched</span>
          </div>
          <div class="keywords-list" id="keywords-list"></div>
        </div>

        <!-- Tabs for Resume/Cover Letter -->
        <div class="content-tabs">
          <button class="content-tab active" data-tab="resume">
            <span>ğŸ“„</span> Resume
          </button>
          <button class="content-tab" data-tab="cover">
            <span>âœ‰ï¸</span> Cover Letter
          </button>
        </div>

        <div class="content-area">
          <div class="content-pane active" id="resume-pane">
            <textarea id="tailored-resume" readonly placeholder="Your tailored resume will appear here..."></textarea>
            <div class="content-actions">
              <button class="btn small" id="copy-resume-btn">
                <span class="btn-icon">ğŸ“‹</span> Copy
              </button>
              <button class="btn small primary" id="download-resume-btn">
                <span class="btn-icon">â¬‡ï¸</span> Download PDF
              </button>
            </div>
          </div>
          <div class="content-pane" id="cover-pane">
            <textarea id="tailored-cover" readonly placeholder="Your tailored cover letter will appear here..."></textarea>
            <div class="content-actions">
              <button class="btn small" id="copy-cover-btn">
                <span class="btn-icon">ğŸ“‹</span> Copy
              </button>
              <button class="btn small primary" id="download-cover-btn">
                <span class="btn-icon">â¬‡ï¸</span> Download PDF
              </button>
            </div>
          </div>
        </div>

        <!-- Suggestions -->
        <div class="suggestions-section" id="suggestions-section">
          <div class="suggestions-header">
            <span>ğŸ’¡ Suggestions to Improve</span>
          </div>
          <ul class="suggestions-list" id="suggestions-list"></ul>
        </div>
      </div>

      <!-- Queue Status -->
      <div class="queue-status" id="queue-status">
        <div class="queue-info">
          <span class="queue-icon">ğŸ“‹</span>
          <span class="queue-text"><span id="queue-count">0</span> jobs in queue</span>
        </div>
        <button id="view-queue-btn" class="btn small ghost">View Queue</button>
      </div>

      <!-- Quick Actions -->
      <div class="quick-actions">
        <button id="open-dashboard-btn" class="btn ghost">
          <span class="btn-icon">ğŸ </span> Dashboard
        </button>
      </div>

      <!-- Disconnect -->
      <button id="disconnect-btn" class="btn danger small">Disconnect Account</button>
    </section>

    <!-- Status Message -->
    <div id="status-message" class="status-message hidden"></div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
